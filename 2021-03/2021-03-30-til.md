# 210330

<br>

# 학습 내용

- Vapor

<br>

# 고민한 점 / 해결 방법

### [Leaf]

- Leaf는 프론트엔드 개발 엔진 탬플릿이다. (Vapor는 프론트엔드 개발 엔진 탬플릿인 Leaf와 비동기 데이터베이스 드라이버가 있는 Swift ORM 프레임워크 Fluent 등 다양한 패키지로 구성되어 있다.)
- 실제 vapor 프로젝트에서는 .leaf  파일이 있었고, html 로 코드가 작성되어 있었다. 웹 사이트의 화면을 그리는 영역이다.

### [마이그레이션(migration)]

- 마이그레이션(migration)은 정보기술에선, 한 운영환경에서 좀 더 나은 다른 운영환경으로 옮겨가는 과정을 의미한다. 예를들면 윈도우NT 서버를 윈도우2000 서버로 옮겨가는 것을 마이그레이션이라고 할 수 있다. 또한 한 종류의 데이터베이스에서 다른 종류의 데이터베이스로 데이터를 옮기는 경우도 마이그레이션이다.
- 예를들어, 새로운 프로젝트 수행시 기존 데이터베이스를 다른 데이터베이스로 변경하거나, 통합시스템 구축시 여러 데이터 베이스를 하나의 데이터베이스로 합치는 것이다.
- 단, 여러 데이터베이스를 하나의 데이터베이스로 합칠 경우엔 각 데이터베이스의 테이블과 컬럼이 다르고, 제한 크기가 다를 수 있기 때문에 마이그레이션 시 주의가 필요하다. 마이그레이션은 데이터를 한 저장장치에서 다른 저장장치로 옮기는 과정을 의미하는데에도 사용된다.
- [http://wiki.hash.kr/index.php/마이그레이션](http://wiki.hash.kr/index.php/%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98)

### [프로세스, 포트]

- vapor를 이용하여 두 개의 프로젝트에서 로컬 서버를 열어줄 경우 아래와 같은 에러가 발생했다.

`Thread 1: Fatal error: Error raised at top level: bind(descriptor:ptr:bytes:): Address already in use (errno: 48)`

- 하나의 포트를 여러 프로세스가 점유하려해서 발생한 에러였다.
- Spotlight - Activity Monitor 에서 해당 프로세스를 죽여주는 것으로 해결이 가능했다.
- Run이라는 프로세스 이름을 짐작하지 못해서 PID를 알아내야 했다. PID는 Process ID로 프로세스가 실행될 때 부여되는 고유 번호이다.
- 터미널에서 아래의 명령어를 입력하는 것으로 PID를 알아낼 수 있었다.

```swift
$ sudo lsof -i :8080
```

[https://stackoverflow.com/questions/53298296/vapor-address-already-in-use-errno-98](https://stackoverflow.com/questions/53298296/vapor-address-already-in-use-errno-98)

- 포트는 네트워크 상에서 통신하기 위해 호스트 내부적으로 프로세스가 할당 받아야하는 고유한 숫자이다.
- 한 호스트 내에서 네트워크 통신을 하고있는 프로세스를 식별하기 위해 사용하는 값이므로, 같은 호스트 내에서 서로 다른 프로세스가 같은 Port 넘버를 가질 수 없다.

<br>

# 느낀점

- 프로세스가 뭘까요? 라는 질문에.. '디스크에 저장된 프로그램?' 이라고 답을 했다.. 재밌게 공부했던 내용인데 그새 머리에 구멍이 나버렸다.

<br>
