# 210129

<br>

# **학습 내용**

- 단위테스트

<br>

# **고민한 점 / 해결 방법**

### **[단위테스트, Mock 객체 왜 필요할까]**

**Mock이란?**실제 객체를 만들어 사용하기에 시간, 비용 등의 Cost가 높거나 혹은 객체 서로간의 의존성이 강해 구현하기 힘들 경우 가짜 객체를 만들어 사용하는 방법이다.

**Mock 객체는 언제 필요한가?**

- 테스트 작성을 위한 환경 구축이 어려운 경우
- 테스트가 특정 경우나 순간에 의존적인 경우
- 테스트 시간이 오래 걸리는 경우
- 개인 PC의 성능이나 서버의 성능문제로 오래 걸릴수 있는 경우 시간을 단축하기 위해 사용한다.

**Mock 객체의 이점**

- 외부환경을 신경쓸 필요가 없이 비지니스로직의 성공유무를 테스트할 수 있다.
- 외부환경에 따라 테스트가 빨리 끝날 수도 있지만, 외부환경이 갑자기 트래픽이 몰리는 시간이라면 테스트가 느리게 끝날 수도 있다. 하지만 목(Mock)객체를 사용한다면 직접 API를 호출하여 결과를 받아오는 것이 아니기 때문에 빠른 테스트 시간을 유지할 수 있다.
- 테스트의 복잡도를 낮춰준다.

### **[커밋 메세지 변경하기]**

- git commit --amend -m ""

### **[이미지 서버에 업로드하기]**

- UIImage.jpegData() 메서드를 사용해서 업로드해줄 수 있었다.

### **[비동기적으로 작업하는 메서드 테스트하기]**

- 비동기 메서드를 테스트하기 위해서는 비동기적 작업을 기다려주는 wait 메서드와 expectation, fulfill 메서드가 필요했다. wait 메서드는 제한시간을 설정하여 실행할 수 있는데 이때 테스트 메서드가 시간내에 작업을 완료하지 못해서 테스트에서 실패하는 경우도 있었다.

<br>

# **느낀점**

- 생각을 먼저하고 코드를 쓰는 것은 좋은 습관이지만 마음대로 추측하고 생각에서 그쳐서는 안된다. 오늘도 꼬말과 충분한 고민을 했지만 안될거라고 생각하고 실제로 코드로서 확인해보지 않아서 중요한 고민 포인트를 놓쳤다. 다행히 리나가 발견해주어 바로잡을 수 있었지만 바보같은 습관이다.

<br>
<br>


### **참고**

- [https://www.crocus.co.kr/1555](https://www.crocus.co.kr/1555)
- [https://coding-start.tistory.com/266](https://coding-start.tistory.com/266)
